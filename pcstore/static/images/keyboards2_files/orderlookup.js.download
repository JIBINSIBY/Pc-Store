var osJQuery,shopUrl,ShopName,emptyerror="",emailerror="",OrderStatusScript=document.currentScript,currentOrderStatusScriptUrl=getScriptUrlOrderStatus(),OrderStatusUrl="https://"+extractDomainOrderStatus(currentOrderStatusScriptUrl);function getScriptUrlOrderStatus(){return void 0!==OrderStatusScript?OrderStatusScript.src:"https://orderstatus.w3apps.co/"}function extractDomainOrderStatus(e){e=-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0];return e=e.split(":")[0]}var orderlookup=function(e){osJQuery=e;(shopUrl=Shopify.shop).split(".")[0];osJQuery("div.w3-order-lookup").length&&getForm(osJQuery("div.w3-order-lookup")),preLoaded()};function loadScript(e,r){var o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,r())}:o.onload=function(){r()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)}function isVersionBadOS(){var e;return"undefined"==typeof jQuery||(e=jQuery.fn.jquery.split("."),2<=parseInt(e[0]))||parseInt(e[1])<8}function preLoaded(){var e=w3GetParameterByName("oid"),r=w3GetParameterByName("email"),o=w3GetParameterByName("phone");null!=e&&null!=r&&""!=e&&""!=r&&doSubmit(),null!=e&&null!=o&&""!=e&&""!=o&&doSubmit(),null!=r&&0==osJQuery("#findOrder").length&&""!=r&&doSubmit(),null!=o&&0==osJQuery("#findOrder").length&&""!=o&&doSubmit()}function getForm(t){var e=Shopify.shop.split(".")[0];osJQuery.ajax({type:"POST",url:OrderStatusUrl+"/api/OrderLookupForm",dataType:"html",data:{shopName:e},success:function(e,r,o){e=JSON.parse(e);t.append(e.formstring),emptyerror=e.required,emailerror=e.invalid_email,0==t.find(".order-lookup-list").length&&t.find(".order-lookup-details").after("<div class='order-lookup-list'></div>"),0==t.find("#goBackList").length&&t.find("#goBack").after("<input type='button' id='goBackList' name='goBackList' value='Back To List' style='display:none;' />"),0==t.find("#osShowArchived").length&&t.find(".order-lookup-result").prepend("<label><input id='osShowArchived' type='checkbox' /> Show Archived</label>")},complete:function(){osJQuery("#findOrder").click(function(e){doValidate(e)})}})}function doValidate(e){e.preventDefault();var r=["orderNumber","emailAddress"],e=osJQuery("#emailAddress"),o=osJQuery(".order-lookup-error"),t="";for(i=0;i<r.length;i++){var a=osJQuery("#"+r[i]);""==a.val()||a.val()==emptyerror?(a.addClass("orderlookup-required"),t=emptyerror):a.removeClass("orderlookup-required")}e.val(osJQuery.trim(e.val()));0==/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.val())&&0==/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e.val())&&(e.addClass("orderlookup-required"),t=""!=t?t+"<br/>"+emailerror:emailerror),osJQuery(":input").hasClass("orderlookup-required")?(o.html(t),o.show()):(o.html(""),o.hide(),doSubmit())}function w3GetParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function doSubmit(){osJQuery(".order-lookup-container");var e,t=osJQuery("#order-lookup-form"),r=t.find("input, button"),a=(t.serialize(),osJQuery(".order-lookup-searching")),o=Shopify.shop.split(".")[0],s=w3GetParameterByName("oid"),d=w3GetParameterByName("email"),u=w3GetParameterByName("phone"),i=""!=s&&""!=d?(e=w3GetParameterByName("oid"),w3GetParameterByName("email")):""!=s&&""!=u?(e=w3GetParameterByName("oid"),w3GetParameterByName("phone")):""!=d?w3GetParameterByName("email"):""!=u?w3GetParameterByName("phone"):(e=osJQuery("#orderNumber").val(),osJQuery("#emailAddress").val()),l=0<osJQuery("#orderNumber").length,n=(t.fadeTo(500,.2),a.show(),r.attr("disabled","disabled"),{emailAddress:i,shopName:o});function p(){l||""!=w3GetParameterByName("oid")?n.orderNumber=e:(n.noOrderNumber=!0,n.showArchived=osJQuery("#osShowArchived").prop("checked")),osJQuery.ajax({type:"POST",url:OrderStatusUrl+"/api/OrderLookup",dataType:"html",data:n,success:function(e,r,o){osJQuery(".order-lookup-container").hide();e=JSON.parse(e);1==e.islist?(osJQuery(".order-lookup-list").html(e.searchresultsdetail),osJQuery(".order-lookup-details").hide(),osJQuery(".order-lookup-list").show(),osJQuery("#osShowArchived").parent().show()):(osJQuery(".order-lookup-details").html(e.searchresultsdetail),osJQuery(".order-lookup-details").show(),osJQuery(".order-lookup-list").hide(),osJQuery("#osShowArchived").parent().hide()),t.fadeTo(1,1),a.hide(),osJQuery("#goBackList").hide()},error:function(e,r,o){t.fadeTo(500,1)},complete:function(){t.fadeTo(1,1),a.hide(),osJQuery("#goBack").click(function(){osJQuery(".order-lookup-result").hide(),osJQuery(".order-lookup-container").show(),osJQuery("#orderNumber").val(""),osJQuery("#emailAddress").val("")}),osJQuery(".order-lookup-conainer").hide(),osJQuery(".order-lookup-result").show(),r.removeAttr("disabled")}})}p(),osJQuery(".w3-order-lookup").on("change","#osShowArchived",function(e){a.show(),osJQuery(".order-lookup-list").hide(),p()}),osJQuery(".w3-order-lookup").on("click",".os-view-details",function(e){e.preventDefault();osJQuery(this).attr("name");osJQuery.ajax({type:"POST",url:OrderStatusUrl+"/api/OrderLookup",dataType:"html",data:{emailAddress:i,orderNumber:osJQuery(this).attr("name"),shopName:o},success:function(e,r,o){e=JSON.parse(e);osJQuery(".order-lookup-details").html(e.searchresultsdetail),osJQuery(".order-lookup-details").show(),osJQuery(".order-lookup-list").hide(),osJQuery("#osShowArchived").parent().hide(),osJQuery("#goBackList").show()}})}),osJQuery(".w3-order-lookup").on("click","#goBackList",function(e){e.preventDefault(),osJQuery(".order-lookup-details").hide(),osJQuery(".order-lookup-list").show(),osJQuery("#osShowArchived").parent().show(),osJQuery("#goBackList").hide()})}isVersionBadOS()?loadScript("//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",function(){jQuery191=jQuery.noConflict(!0),orderlookup(jQuery191)}):orderlookup(jQuery);