{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">

    <title>Hexashop Ecommerce HTML CSS Template</title>


    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">

    <link rel="stylesheet" type="text/css" href="{% static 'css/font-awesome.css' %}">

    <link rel="stylesheet" href="{% static 'css/templatemo-hexashop.css' %}">

    <link rel="stylesheet" href="{% static 'css/owl-carousel.css' %}">

    <link rel="stylesheet" href="{% static 'css/lightbox.css' %}">
<!--

TemplateMo 571 Hexashop

https://templatemo.com/tm-571-hexashop

--><script>
   
</script>

    <style>
        .search-container {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }
        .search-container form {
            display: flex;
            align-items: center;
        }
        .search-container input[type="text"] {
            padding: 10px;
            border: none;
            border-radius: 5px 0 0 5px;
            outline: none;
        }
        .search-container button {
            padding: 10px 15px;
            background-color: #7e96dc;
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }
        .search-container button:hover {
            background-color: #d32f2f;
        }
        .d-flex{
            display: flex;
            align-items: center;
            margin-left: 87px;
            margin-top: 34px;
        }

        .component-selection h3 {
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .cart {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
        }

        #selected-components {
            min-height: 200px;
        }

        .component-container {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .component-container h4 {
            margin-bottom: 10px;
        }

        .selected-component {
            min-height: 60px;
        }

        .selected-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .component-details {
            margin-left: 10px;
        }

        .remove-component {
            margin-left: 10px;
        }
    </style>

    </head>
    
    <body>
    
    <!-- ***** Preloader Start ***** -->
    <!-- <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>   -->
    <!-- ***** Preloader End ***** -->
    
    
    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class=" mx-5">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="index.html" class="logo">
                            <img src="{% static 'images/logo.png' %}">
                        </a>
                        <!-- ***** Logo End ***** -->
                        
                        <!-- ***** Search Start ***** -->
                        <!-- <div class="search-container ">
                            <form action="{% url 'userapp:search_results' %}" method="get" class="d-flex">
                                <input type="text" placeholder="Search products..." name="q">
                                <button type="submit"><i class="fa fa-search"></i></button>
                            </form>
                        </div> -->
                        <!-- ***** Search End ***** -->

                        <!-- ***** Menu Start ***** -->
                        <ul class="nav" style="margin-top: -43px;">
                            <li class="scroll-to-section"><a href="{% url 'userapp:mainpage' %}" class="active">Home</a></li>
                            <li class="scroll-to-section"><a href="">About Us</a></li>
                            <li class="scroll-to-section"><a href="">Contact Us</a></li>
                            <li class="scroll-to-section"><a href="{% url 'userapp:pc_custom' %}">Custom PC</a></li>
                            <li class="submenu">
                                <a href="javascript:;">Products</a>
                                <ul>
                                    <li><a href="{% url 'userapp:monitors' %}">Monitors</a></li>
                                    <li><a href="{% url 'userapp:keyboards' %}">Keyboards</a></li>
                                    <li><a href="single-product.html">Mouses</a></li>
                                    <li><a href="contact.html">Assembled CPU</a></li>
                                    <li><a href="contact.html">Accessories</a></li>
                                </ul>
                            </li>
                            {% if user.is_authenticated%}
                            <li class="submenu">
                                <a href="javascript:;">{{ user.username }}</a>
                                <ul>
                                    <li><a href="{% url 'userapp:logout' %}">Logout</a></li>
                                    {% else %}
                                    <li><a href="loginuser">Login</a></li>
                            {% endif %}
                            {% if user.is_authenticated %}
                            <li><a href="{% url 'userapp:profile' %}">Profile</a></li>
                    {% endif %}
                                    <li><a href="#">Features Page 3</a></li>
                                    <li><a rel="nofollow" href="https://templatemo.com/page/4" target="_blank">Template Page 4</a></li>
                                </ul>
                            </li>
                        </ul>
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** PC Customization Area Start ***** -->
    <div class="container mt-5">
        <br><br>
        <h1 class="text-center mb-4">Build Your PC Online | Customize Your PC</h1>
        <p class="text-center mb-5">
            Welcome to our PC Studio, your trusted destination for PC builds and customization. Choose from a wide range of high-quality components to create your perfect PC.
        </p>
        <div class="row">
            <div class="col-md-8">
                <div class="component-selection">
                    <div class="component-container" id="motherboard-container">
                        <h4>Motherboard</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="motherboard-btn">Select Motherboard</button>
                    </div>
                    <div class="component-container" id="cpu-container">
                        <h4>CPU/Processor</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="cpu-btn">Select CPU/Processor</button>
                    </div>
                    <div class="component-container" id="ram-container">
                        <h4>RAM</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="ram-btn">Select RAM</button>
                    </div>
                    <div class="component-container" id="harddrive-container">
                        <h4>Hard Drive</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="harddrive-btn">Select Hard Drive</button>
                    </div>
                    <div class="component-container" id="case-container">
                        <h4>Case</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="case-btn">Select Case</button>
                    </div>
                    <div class="component-container" id="psu-container">
                        <h4>Power Supply Unit</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="psu-btn">Select Power Supply Unit</button>
                    </div>
                    <div class="component-container" id="gpu-container">
                        <h4>Graphics Card</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="gpu-btn">Select Graphics Card</button>
                    </div>
                    <div class="component-container" id="cpucooler-container">
                        <h4>CPU Cooler</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="cpucooler-btn">Select CPU Cooler</button>
                    </div>
                    <div class="component-container" id="bluetooth-container">
                        <h4>Bluetooth Card</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="bluetooth-btn">Select Bluetooth Card</button>
                    </div>
                    <div class="component-container" id="wifi-container">
                        <h4>WiFi Card</h4>
                        <div class="selected-component">No component selected</div>
                        <button class="btn btn-primary mb-3" id="wifi-btn">Select WiFi Card</button>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="cart">
                    <h3>Your Build</h3>
                    <ul id="selected-components" class="list-group mb-3">
                        <!-- Selected components will be added here dynamically -->
                    </ul>
                    <div class="d-flex justify-content-between">
                        <h4>Total:</h4>
                        <h4 id="total-price">₹0</h4>
                    </div>
                    <div id="cart-message" class="alert alert-success mt-2" style="display: none;"></div>
                    <button class="btn btn-primary btn-lg btn-block mt-3" id="add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ***** PC Customization Area End ***** -->

    <!-- Component Selection Modal -->
    <div class="modal fade" id="componentModal" tabindex="-1" role="dialog" aria-labelledby="componentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="componentModalLabel">Select Component</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="componentModalBody">
                    <!-- Component items will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- ***** Subscribe Area Starts ***** -->
    <div class="subscribe">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="section-heading">
                        <h2>By Subscribing To Our Newsletter You Can Get 30% Off</h2>
                        <span>Details to details is what makes Hexashop different from the other themes.</span>
                    </div>
                    <form id="subscribe" action="" method="get">
                        <div class="row">
                          <div class="col-lg-5">
                            <fieldset>
                              <input name="name" type="text" id="name" placeholder="Your Name" required="">
                            </fieldset>
                          </div>
                          <div class="col-lg-5">
                            <fieldset>
                              <input name="email" type="text" id="email" pattern="[^ @]*@[^ @]*" placeholder="Your Email Address" required="">
                            </fieldset>
                          </div>
                          <div class="col-lg-2">
                            <fieldset>
                              <button type="submit" id="form-submit" class="main-dark-button"><i class="fa fa-paper-plane"></i></button>
                            </fieldset>
                          </div>
                        </div>
                    </form>
                </div>
                <div class="col-lg-4">
                    <div class="row">
                        <div class="col-6">
                            <ul>
                                <li>Store Location:<br><span>Sunny Isles Beach, FL 33160, United States</span></li>
                                <li>Phone:<br><span>010-020-0340</span></li>
                                <li>Office Location:<br><span>North Miami Beach</span></li>
                            </ul>
                        </div>
                        <div class="col-6">
                            <ul>
                                <li>Work Hours:<br><span>07:30 AM - 9:30 PM Daily</span></li>
                                <li>Email:<br><span>info@company.com</span></li>
                                <li>Social Media:<br><span><a href="#">Facebook</a>, <a href="#">Instagram</a>, <a href="#">Behance</a>, <a href="#">Linkedin</a></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ***** Subscribe Area Ends ***** -->
    
    <!-- ***** Footer Start ***** -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="first-item">
                        <div class="logo">
                            <img src="{% static 'images/white-logo.png' %}" alt="hexashop ecommerce templatemo">
                        </div>
                        <ul>
                            <li><a href="#">16501 Collins Ave, Sunny Isles Beach, FL 33160, United States</a></li>
                            <li><a href="#">hexashop@company.com</a></li>
                            <li><a href="#">010-020-0340</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3">
                    <h4>Shopping &amp; Categories</h4>
                    <ul>
                        <li><a href="#">Men's Shopping</a></li>
                        <li><a href="#">Women's Shopping</a></li>
                        <li><a href="#">Kid's Shopping</a></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h4>Useful Links</h4>
                    <ul>
                        <li><a href="#">Homepage</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Help</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h4>Help &amp; Information</h4>
                    <ul>
                        <li><a href="#">Help</a></li>
                        <li><a href="#">FAQ's</a></li>
                        <li><a href="#">Shipping</a></li>
                        <li><a href="#">Tracking ID</a></li>
                    </ul>
                </div>
                <div class="col-lg-12">
                    <div class="under-footer">
                        <p>Copyright © 2022 HexaShop Co., Ltd. All Rights Reserved. 
                        
                        <br>Design: <a href="https://templatemo.com" target="_parent" title="free css templates">TemplateMo</a></p>
                        <ul>
                            <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="#"><i class="fa fa-behance"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    

    <!-- jQuery -->
    <script src="{% static 'js/jquery-2.1.0.min.js' %}"></script>

    <!-- Bootstrap -->
    <script src="{% static 'js/popper.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

    <!-- Plugins -->
    <script src="{% static 'js/owl-carousel.js' %}"></script>
    <script src="{% static 'js/accordions.js' %}"></script>
    <script src="{% static 'js/datepicker.js' %}"></script>
    <script src="{% static 'js/scrollreveal.min.js' %}"></script>
    <script src="{% static 'js/waypoints.min.js' %}"></script>
    <script src="{% static 'js/jquery.counterup.min.js' %}"></script>
    <script src="{% static 'js/imgfix.min.js' %}"></script> 
    <script src="{% static 'js/slick.js' %}"></script> 
    <script src="{% static 'js/lightbox.js' %}"></script> 
    <script src="{% static 'js/isotope.js' %}"></script> 
    
    <!-- Global Init -->
    <script src="{% static 'js/custom.js' %}"></script>

    <script>

        $(function() {
            var selectedClass = "";
            $("p").click(function(){
            selectedClass = $(this).attr("data-rel");
            $("#portfolio").fadeTo(50, 0.1);
                $("#portfolio div").not("."+selectedClass).fadeOut();
            setTimeout(function() {
              $("."+selectedClass).fadeIn();
              $("#portfolio").fadeTo(50, 1);
            }, 500);
                
            });
        });

    </script>

    <script>
        $(document).ready(function() {
            const components = {
                motherboard: [],
                cpu: [],
                ram: [],
                harddrive: [],
                case: [],
                psu: [],
                gpu: [],
                cpucooler: [],
                bluetooth: [],
                wifi: []
            };

            let selectedComponents = {};
            let total = 0;

            function populateComponents() {
                $.ajax({
                    url: '{% url "userapp:get_components" %}',
                    method: 'GET',
                    success: function(data) {
                        data.forEach(component => {
                            let category = component.category.toLowerCase().replace(/\s+/g, '').replace('/processor', '');
                            if (category === 'cpu') {
                                category = 'cpu';
                            }
                            if (!components[category]) {
                                components[category] = [];
                            }
                            components[category].push(component);
                        });
                        console.log('Components loaded:', components);
                        setupEventListeners();
                        showInitialComponents();
                    },
                    error: function(xhr, status, error) {
                        console.error("Error fetching components:", error);
                    }
                });
            }

            function setupEventListeners() {
                $('.component-selection button').click(function() {
                    const componentType = $(this).attr('id').replace('-btn', '');
                    showComponentModal(componentType);
                });

                $(document).on('click', '.select-component', function() {
                    const componentId = $(this).data('id');
                    const componentType = $(this).data('type');
                    const selected = components[componentType].find(c => c.componentId == componentId);

                    if (selected) {
                        selectedComponents[componentType] = selected;
                        updateSelectedComponent(componentType, selected);
                        updateSelectedList();
                        calculateTotal();
                        $('#componentModal').modal('hide');
                    }
                });

                $(document).on('click', '.remove-component', function() {
                    const componentType = $(this).data('type');
                    removeComponent(componentType);
                });

                $('#add-to-cart').click(function() {
                    $('#cart-message').text('Added to cart! Total: ₹' + total.toFixed(2)).show();
                    setTimeout(function() {
                        $('#cart-message').fadeOut();
                    }, 3000);
                });
            }

            function showComponentModal(componentType) {
                const modalBody = $('#componentModalBody');
                modalBody.empty();

                if (components[componentType] && components[componentType].length > 0) {
                    components[componentType].forEach(component => {
                        const componentHtml = `
                            <div class="component-item d-flex justify-content-between align-items-center mb-3">
                                <img src="${component.image}" alt="${component.name}" style="width: 50px; height: 50px;">
                                <span>${component.name}</span>
                                <span>₹${component.price}</span>
                                <button class="btn btn-sm btn-primary select-component" data-id="${component.componentId}" data-type="${componentType}">Select</button>
                            </div>
                        `;
                        modalBody.append(componentHtml);
                    });
                } else {
                    modalBody.append('<p>No components available for this category.</p>');
                }

                $('#componentModalLabel').text(`Select ${componentType.charAt(0).toUpperCase() + componentType.slice(1)}`);
                $('#componentModal').modal('show');
            }

            function updateSelectedComponent(type, component) {
                const container = $(`#${type}-container`);
                container.find('.selected-component').html(`
                    <div class="selected-item">
                        <img src="${component.image}" alt="${component.name}" style="width: 50px; height: 50px;">
                        <div class="component-details">
                            <strong>${component.name}</strong><br>
                            Price: ₹${component.price}
                        </div>
                        <button class="btn btn-sm btn-danger remove-component" data-type="${type}">Remove</button>
                    </div>
                `);
            }

            function removeComponent(type) {
                delete selectedComponents[type];
                $(`#${type}-container`).find('.selected-component').html('No component selected');
                updateSelectedList();
                calculateTotal();
            }

            function updateSelectedList() {
                $('#selected-components').empty();
                for (const [type, component] of Object.entries(selectedComponents)) {
                    $('#selected-components').append(`
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>${component.name}</span>
                            <span>₹${component.price}</span>
                        </li>
                    `);
                }
            }

            function calculateTotal() {
                total = Object.values(selectedComponents).reduce((sum, component) => sum + parseFloat(component.price), 0);
                $('#total-price').text(`₹${total.toFixed(2)}`);
            }

            function showInitialComponents() {
                for (const componentType in components) {
                    showComponentModal(componentType);
                }
            }

            populateComponents();
        });
    </script>

</body>
</html>